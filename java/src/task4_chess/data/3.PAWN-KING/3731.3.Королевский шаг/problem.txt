3.Королевский шаг

Дана позиция. 
Необходимо сгенерировать все возможные ходы королём той стороны, чей сейчас ход, кроме рокировки.

Король ходит на одно поле в любую сторону, 
на свободное поле или на поле с чужой фигурой.
В центре доски у короля может быть 8, на краю - 5, в углу - 3 хода.
Проверку на шах делать не нужно.

Дано: FEN-позиция.
Надо: Вывести количество ходов и их список.