3.Чёрные пешки

Теперь нужно приспособить все написанные алгоритмы для чёрных пешек.

Дана позиция, в которой могут быть белые и/или чёрные пешки. 
Необходимо сгенерировать все возможные ходы 
для всех пешек той стороны, чей сейчас ход.

Дано: FEN-позиция.
Надо: Вывести количество ходов пешками и их список.